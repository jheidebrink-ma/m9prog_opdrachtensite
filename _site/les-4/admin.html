<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Les 4 - M9PROG - Blog</title> <meta name="Description" content="M9PROG - Portfolio website"> <link rel="shortcut icon" href="/m9prog_opdrachtensite/favicon.ico" type="image/x-icon"> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;700&family=Fira+Sans:wght@400;500&display=swap" rel="stylesheet"> <link rel="stylesheet" href="/m9prog_opdrachtensite/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=false"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'false'); </script> <script type="text/javascript" src="/m9prog_opdrachtensite/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path> <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle> <line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line> <line x1="3" y1="6" x2="21" y2="6"></line> <line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path> <polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/m9prog_opdrachtensite/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"> <use xlink:href="#svg-menu"></use> </svg> </a> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/m9prog_opdrachtensite/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/m9prog_opdrachtensite/project_description.html" class="nav-list-link">Project omschrijving</a></li><li class="nav-list-item"><a href="/m9prog_opdrachtensite/les-1/" class="nav-list-link">Les 1</a></li><li class="nav-list-item"><a href="/m9prog_opdrachtensite/les-2/index" class="nav-list-link">Les 2</a></li><li class="nav-list-item"><a href="/m9prog_opdrachtensite/les-3/index" class="nav-list-link">Les 3</a></li><li class="nav-list-item"><a href="/m9prog_opdrachtensite/les-4/index" class="nav-list-link">Les 4</a></li><li class="nav-list-item"><a href="/m9prog_opdrachtensite/les-5/index" class="nav-list-link">Les 5</a></li><li class="nav-list-item"><a href="/m9prog_opdrachtensite/les-6/index" class="nav-list-link">Les 6</a></li><li class="nav-list-item"><a href="/m9prog_opdrachtensite/les-7/index" class="nav-list-link">Les 7</a></li><li class="nav-list-item"><a href="/m9prog_opdrachtensite/les-8/index" class="nav-list-link">Les 8</a></li></ul> </nav> <footer class="site-footer"> This is a learning site for awesome Webdevelopers.<br> <!--<small>This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</small>--> </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header pl-5 pt-2"> <h1> M9PROG - Portfolio website </h1> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h2 class="text-green-100 fs-6" id="wordpress-admin-gebruiker">WordPress admin gebruiker</h2> <p>De admin-gebruiker van WordPress heeft volledige controle over de website, met toegang tot alle instellingen, functies en inhoud. Deze rol stelt de beheerder in staat om gebruikers te beheren, plugins en thema’s te installeren, en alle pagina’s en berichten te bewerken of te verwijderen.</p> <p>Het kan gebeuren dat je geen toegang meer hebt tot een WordPress website, in de volgende stappen gaan wij via een andere weg weer toegang krijgen tot de website.</p> <hr /> <h3 id="1--wachtwoord-vergeten-via-de-database">1- Wachtwoord vergeten, via de database</h3> <p>Als je een gebruiker hebt in de database waarvan je het wachtwoord bent vergeten kun je inloggen in de database om het wachtwoord aan te passen.<br /> Hiervoor heb je de login gegevens nodig van de database, deze kun je vinden in de <code class="language-plaintext highlighter-rouge">wp-config.php</code><br /> <img src="/m9prog_opdrachtensite/les-4/images/wpconfig.png" alt="images/wpconfig.png" /><br /> Door deze gegevens te gebruiken kun je inloggen via <strong>phpmyadmin</strong> of een andere tool. Misschien moet je eerst nog even de tool installeren.<br /> Een andere veel gebruikte tool is <a href="https://www.adminer.org">admininer</a>. <a href="https://github.com/vrana/adminer/releases/download/v4.8.1/adminer-4.8.1.php">download</a><br /> Zodra je toegang hebt tot de database kun je het wachtwoord aanpassen, zorg ervoor dat je een md5 hash gebruikt. WordPress zet daarna je wachtwoord om naar een echt gecodeerd wachtwoord. Hiervoor kun je bijvoorbeeld deze query gebruiken:</p><pre><code class="language-mysql">UPDATE wp_users SET user_pass=md5('moeilijkwachtwoord') WHERE ID=99;
</code></pre><p>Zodra je het wachtwoord hebt aangepast kun je met de gebruikersnaam die je bij dat record zag inloggen.</p> <hr /> <h3 id="2--admin-user-aanmaken-via-een-php-script">2- Admin user aanmaken via een php script.</h3> <p>Je kunt ook eenvoudig een gebruiker aanmaken en die admin rechten geven. Hiervoor moet je wel toegang hebben tot de bestanden.<br /> Plaats dit script in een php bestand waar WordPress geladen is. <em>( zorg wel dat de variabele gedefinieerd zijn )</em></p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Check that user doesn't already exist</span>
<span class="k">if</span> <span class="p">(</span> <span class="o">!</span> <span class="nf">username_exists</span><span class="p">(</span> <span class="nv">$username</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span> <span class="nf">email_exists</span><span class="p">(</span> <span class="nv">$email</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
	<span class="c1">// Create user and set role to administrator</span>
	<span class="nv">$user_id</span> <span class="o">=</span> <span class="nf">wp_create_user</span><span class="p">(</span> <span class="nv">$username</span><span class="p">,</span> <span class="nv">$pass</span><span class="p">,</span> <span class="nv">$email</span> <span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span> <span class="nb">is_int</span><span class="p">(</span><span class="nv">$user_id</span><span class="p">)</span> <span class="p">)</span>	<span class="p">{</span>
		<span class="nv">$wp_user_object</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">WP_User</span><span class="p">(</span><span class="nv">$user_id</span><span class="p">);</span>
		<span class="nv">$wp_user_object</span><span class="o">-&gt;</span><span class="nf">set_role</span><span class="p">(</span><span class="s1">'administrator'</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p>Voor een multisite kun je dit commando gebruiken:</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Create multisite admin user:</span>
<span class="nf">grant_super_admin</span><span class="p">(</span><span class="nv">$user_id</span><span class="p">);</span>
</code></pre></div></div> <hr /> <h3 id="3--admin-user-aanmaken-via-een-cli-script">3- Admin user aanmaken via een CLI script.</h3> <p>Via CLI kun je ook een gebruiker aanmaken en die vervolgens de juiste rechten geven.<br /> Daarvoor gebruik je het volgende commando in de terminal, voer dit uit in dezelfde directory als WordPress staat.</p> <div class="language-ssh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">wp</span> user create mijnnaam jasper@email.nl --role=administrator
</code></pre></div></div> <p>Vervolgens stel ik de admin rechten in voor de user, stel dat na het aanmaken het ID 12345 is dan gebruik ik het volgende commando:</p> <div class="language-ssh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">wp</span> user set-role <span class="m">12345</span> administrator
</code></pre></div></div> <hr /> <h3 class="text-green-100 fs-4" id="volgende-stap">Volgende stap:</h3> <p><a href="ssh">SSH commando s</a></p> <footer> </footer> </div> </div> </div> </body> </html>
